<html>
  <body>
    <script>
      const fetchData = () => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            const success = true; // Simulate success or failure
            if (success) {
              resolve({ id: 1, name: "Alice" });
            } else {
              reject("Failed to fetch data");
            }
          }, 2000);
        });
      };

      async function getData() {
        // If you use await in function, you have to mark the function as async
        try {
          const data = await fetchData(); // Waits until `fetchData` resolves, then the next statement will be executed
          console.log("Data received:", data);
        } catch (error) {
          console.log("Error:", error); // Catches any errors from `fetchData`
        }
      }

      getData();
    </script>

    <script>
      // Chaining with await/async
      const fetchUser = () => {
        return new Promise((resolve) => {
          setTimeout(() => resolve({ id: 1, name: "Alice" }), 1000);
        });
      };

      const fetchOrders = (userId) => {
        return new Promise((resolve) => {
          setTimeout(() => resolve(["Order1", "Order2"]), 1000);
        });
      };

      async function fetchUserData() {
        try {
          const user = await fetchUser();
          console.log("User fetched:", user);

          const orders = await fetchOrders(user.id);
          console.log("Orders fetched:", orders);
        } catch (error) {
          console.log("Error:", error);
        }
      }

      fetchUserData();
    </script>
  </body>
</html>
